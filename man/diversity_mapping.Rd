% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{diversity_mapping}
\alias{diversity_mapping}
\title{Create Bivariate Maps for Agricultural Diversity Analysis}
\usage{
diversity_mapping(input, agg_cols, districts, EZGs = NA, AOIs = NA, BS = NULL)
}
\arguments{
\item{input}{An sf object containing agricultural field data with crop information over multiple years}

\item{agg_cols}{Character vector specifying the column names containing crop information for each year}

\item{districts}{sf object containing district-level polygons with at least "District" and "geometry" columns}

\item{EZGs}{Optional sf object containing river basin (EZG) polygons. Default NA}

\item{AOIs}{Optional sf object containing areas of interest (AOI) polygons. Default NA}

\item{BS}{A terra raster object for additional analysis. Default NULL}
}
\value{
List containing three elements:
\itemize{
\item District_div_data: Bivariate data for districts
\item EZG_div_data: Bivariate data for river basins (if EZGs provided)
\item AOI_div_data: Bivariate data for areas of interest (if AOIs provided)
}
}
\description{
Generate bivariate maps showing the relationship between crop diversity
(unique crop count) and crop rotation transitions at district and river basin levels.
}
\details{
This function creates bivariate choropleth maps showing the relationship between two
agricultural diversity metrics:
\enumerate{
\item Number of unique crops grown in each spatial unit
\item Number of crop transitions (crop changes between consecutive years)
}

The metrics are calculated first at field level, then aggregated to district and
river basin level using both simple means and area-weighted means. The resulting
maps use a 3x3 bivariate color scheme to show the relationship between these metrics.
}
\examples{
\dontrun{
# Create maps for districts only
maps <- diversity_mapping(
  input = crop_data,
  agg_cols = c("crop_2020", "crop_2021", "crop_2022"),
  districts = district_polygons
)

# Create maps for both districts and river basins
maps <- diversity_mapping(
  input = crop_data,
  agg_cols = c("Name_2020", "Name_2021", "Name_2022"),
  districts = district_polygons,
  EZGs = river_basin_polygons
)
}

}
